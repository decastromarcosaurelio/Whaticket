# ================================================================
# WHATICKET - CONFIGURAÇÃO DE INSTALAÇÃO UNIFICADA
# ================================================================
# Copie este arquivo para .env e configure os valores necessários
# Nunca commite o arquivo .env com dados reais!

# ================================================================
# CONFIGURAÇÕES BÁSICAS DA INSTALAÇÃO
# ================================================================

# Senha principal (será usada para usuário deploy, banco e Redis)
# IMPORTANTE: Não usar caracteres especiais
DEPLOY_PASSWORD=minhasenha123

# Email do administrador (para certificados SSL)
ADMIN_EMAIL=admin@exemplo.com.br

# ================================================================
# CONFIGURAÇÕES DA INSTÂNCIA/EMPRESA
# ================================================================

# Nome da instância (sem espaços, caracteres especiais, minúsculas)
INSTANCE_NAME=minhapresaempresa

# Limites da instância
MAX_WHATSAPP_CONNECTIONS=10
MAX_USERS=50

# ================================================================
# CONFIGURAÇÕES DE DOMÍNIOS E PORTAS
# ================================================================

# Domínios (com https://)
FRONTEND_URL=https://painel.exemplo.com.br
BACKEND_URL=https://api.exemplo.com.br

# Portas dos serviços (não conflitar com outras instâncias)
FRONTEND_PORT=3000
BACKEND_PORT=4000
REDIS_PORT=5000

# ================================================================
# CONFIGURAÇÕES DO BANCO DE DADOS
# ================================================================

# Configurações PostgreSQL (serão criadas automaticamente)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=${INSTANCE_NAME}
DB_USER=${INSTANCE_NAME}
DB_PASS=${DEPLOY_PASSWORD}

# ================================================================
# CONFIGURAÇÕES DE SEGURANÇA (AUTO-GERADAS SE VAZIO)
# ================================================================

# Secrets JWT (deixe vazio para gerar automaticamente)
JWT_SECRET=
JWT_REFRESH_SECRET=

# ================================================================
# INTEGRAÇÃO SENTRY (MONITORAMENTO DE ERROS)
# ================================================================

# Habilitar integração com Sentry (true/false)
SENTRY_ENABLED=true

# DSN do projeto Sentry (será fornecido quando necessário)
SENTRY_DSN=

# Environment do Sentry
SENTRY_ENVIRONMENT=production

# Release version
SENTRY_RELEASE=1.0.0

# Sample rate para traces (0.0 a 1.0)
SENTRY_TRACES_SAMPLE_RATE=0.1

# ================================================================
# INTEGRAÇÃO DATADOG (MONITORAMENTO E MÉTRICAS)
# ================================================================

# Habilitar integração com Datadog (true/false)
DATADOG_ENABLED=true

# API Key do Datadog (será fornecida quando necessário)
DATADOG_API_KEY=

# Site do Datadog (us1.datadoghq.com, datadoghq.eu, etc.)
DATADOG_SITE=us1.datadoghq.com

# Nome do serviço no Datadog
DATADOG_SERVICE_NAME=whaticket-${INSTANCE_NAME}

# Environment no Datadog
DATADOG_ENV=production

# Tags customizadas (formato: key1:value1,key2:value2)
DATADOG_TAGS=instance:${INSTANCE_NAME},stack:nodejs,app:whaticket

# ================================================================
# CONFIGURAÇÕES DE LOGS
# ================================================================

# Nível de log (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO

# Diretório dos logs
LOG_DIR=./logs

# Tamanho máximo do arquivo de log (em MB)
LOG_MAX_SIZE=100

# Número máximo de arquivos de log rotacionados
LOG_MAX_FILES=10

# Retenção de logs em dias
LOG_RETENTION_DAYS=30

# ================================================================
# OPÇÕES DE INSTALAÇÃO
# ================================================================

# Realizar limpeza completa antes da instalação (true/false)
CLEAN_INSTALL=false

# Fazer backup das configurações existentes (true/false)
BACKUP_EXISTING_CONFIG=true

# Pular instalação de dependências do sistema (true/false)
SKIP_SYSTEM_DEPS=false

# Pular configuração do Nginx (true/false)
SKIP_NGINX_CONFIG=false

# Pular configuração de certificados SSL (true/false)
SKIP_SSL_CONFIG=false

# ================================================================
# CONFIGURAÇÕES AVANÇADAS (GERALMENTE NÃO PRECISAM ALTERAÇÃO)
# ================================================================

# Configurações Redis
REDIS_PASSWORD=${DEPLOY_PASSWORD}
REDIS_MAX_MEMORY=256mb
REDIS_MAX_MEMORY_POLICY=allkeys-lru

# Configurações Node.js
NODE_ENV=production
NODE_OPTIONS=--max-old-space-size=4096

# Configurações PM2
PM2_INSTANCES=1
PM2_MAX_RESTARTS=10

# Proxy settings (deixe vazio se não usar proxy)
HTTP_PROXY=
HTTPS_PROXY=
NO_PROXY=localhost,127.0.0.1

# ================================================================
# CONFIGURAÇÕES DE DESENVOLVIMENTO (NÃO USAR EM PRODUÇÃO)
# ================================================================

# Modo de desenvolvimento (true/false)
DEV_MODE=false

# Habilitar debug verbose (true/false)
DEBUG_VERBOSE=false

# Pular verificações de segurança (PERIGOSO - só para dev)
SKIP_SECURITY_CHECKS=false